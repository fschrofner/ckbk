<ion-view view-title="Browse">
  <ion-nav-buttons side="secondary">
    <button class="button button-icon ion-android-add" id="create-button" onclick="window.location.href='#/app/recipes/'+ Date.now() + Math.floor((Math.random() * 100) + 1); ">
    </button>
  </ion-nav-buttons>
  <ion-header-bar class="bar-light bar-subheader">
	
	<div class="row">
	<div class="col">
      <input type="text" placeholder="Search for Recipe" ng-model="search"
             ng-focus="searchFocused = true"
             ng-blur="searchFocused = false"
             ng-change="scrollTop()"
             class="full-width" width ="100%">
			 </div>
			 <div class="col">
      <button ng-if="search.length"
              class="button button-icon ion-android-close input-button"
              ng-click="clearSearch()">
			  
      </button>
	  </div>
	</div>
	
	
  </ion-header-bar>
	
<ion-content>

<ion-item class="item-divider positive" ng-init="toShow=true" ng-click="toShow = !toShow">

<div ng-show="toShow">
<div class="row">Category:</div>
<div class="row">
	<div class="col">
          <ion-checkbox class="checkbox-energized">
            Baking
          </ion-checkbox>   
			<ion-checkbox class="checkbox-energized">
            Drinks
          </ion-checkbox> 
			<ion-checkbox class="checkbox-energized">
            Breakfast
          </ion-checkbox>   
	</div>		 
	<div class="col">
		<ion-checkbox class="checkbox-energized">
            Lunch
          </ion-checkbox> 
		  <ion-checkbox class="checkbox-energized">
            Dinner
          </ion-checkbox> 
	</div>
</div>
<div class="row">Flags:</div>
<div class="row">
          <ion-checkbox class="checkbox-energized">
            Vegetarian
          </ion-checkbox>   
			<ion-checkbox class="checkbox-energized">
            Vegan
          </ion-checkbox> 
			<ion-checkbox class="checkbox-energized">
            Glutenfree
          </ion-checkbox>   	
</div>
</div>
</ion-item>
  
    <div ng-repeat="currRecipe in recipeList">

      <div class="list card" on-hold="showOverflowMenu(currRecipe)" on-tap="showRecipe(currRecipe)">
	
	<div class="item browse-recipe-title">
	  {{currRecipe.name}}
	</div>

	<div class="browse-recipe-data">
	<div class="row">
	<div class="col">
	  <a class="icon ion-folder browse-recipe-icon"></a> {{currRecipe.category}} <br>

	  <a class="icon ion-clock browse-recipe-icon"></a> {{+currRecipe.prep_time + +currRecipe.cook_time}} min <br>

	  <!-- check flags  and print the checked ones -->
	  <span ng-repeat="flag in currRecipe.flags">
	    <span ng-if="flag.checked">
	      <span ng-if="flag.text == 'Vegetarian' || flag.text =='Vegan'">
		<a class="icon ion-leaf browse-recipe-icon"></a>
	      </span>
	      <span ng-if="flag.text == 'Glutenfree'">
		<a class="icon ion-ios-nutrition browse-recipe-icon"></a>
	      </span>
	    </span>	  
	  </span>
	  </div>
	  <div class="col col-right">
		<div class="item item-image">
	      <img src={{currRecipe.imageSource}} height = "50">
	    </div>
	 </div>
	 </div>
	</div>
      </div>
    </div>
     
  </ion-content>
</ion-view>
